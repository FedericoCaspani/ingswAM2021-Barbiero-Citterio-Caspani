<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="it">
<head>
<!-- Generated by javadoc (16) on Mon Jun 28 21:46:59 CEST 2021 -->
<title>TurnController</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2021-06-28">
<meta name="description" content="declaration: package: it.polimi.ingsw.gameLogic.controller, class: TurnController">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">it.polimi.ingsw.gameLogic.controller</a></div>
<h1 title="Class TurnController" class="title">Class TurnController</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">it.polimi.ingsw.gameLogic.controller.TurnController</div>
</div>
<section class="description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">TurnController</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">This controller handles all the messages and moves that characterize the turn phase.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor.summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><span class="member-name-link"><a href="#%3Cinit%3E(it.polimi.ingsw.gameLogic.model.match.Match,java.util.Map)">TurnController</a></span>&#8203;(<a href="../model/match/Match.html" title="class in it.polimi.ingsw.gameLogic.model.match">Match</a>&nbsp;match,
 <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,&#8203;<a href="../model/essentials/Card.html" title="interface in it.polimi.ingsw.gameLogic.model.essentials">Card</a>&gt;&nbsp;cardMap)</code></div>
<div class="col-last even-row-color">
<div class="block">The constructor initializes every player in waiting for turn, except for the first.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#addFaith()">addFaith</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Adds a faith point to the current player and in case sets the last round boolean and inform the other players.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#changeState(it.polimi.ingsw.gameLogic.controller.StateName)">changeState</a></span>&#8203;(<a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a>&nbsp;newState)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">This method changes the state of the current player to the passed one and calls an update.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#devCardDraw(int,int)">devCardDraw</a></span>&#8203;(int&nbsp;row,
 int&nbsp;column)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">This method, after having received a DevCardDrawMessage, checks first if the chosen card is placeable and buyable.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#devCardPlacement(int)">devCardPlacement</a></span>&#8203;(int&nbsp;column)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">This method, after having received a DevCardPlacementMessage, tries to insert the card in TempDevCard and
 updates sets the new state to END_TURN.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="../model/match/player/Player.html" title="class in it.polimi.ingsw.gameLogic.model.match.player">Player</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getCurrentPlayer()">getCurrentPlayer</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Getter for current player</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getCurrentState()">getCurrentState</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Getter for current player's state</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#leaderActivation(java.lang.String)">leaderActivation</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;leaderId)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">This method does the discard of the chosen leader.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#leaderDiscarding(java.lang.String)">leaderDiscarding</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;leaderId)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">This method does the activate of the chosen leader.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#marketDraw(boolean,int)">marketDraw</a></span>&#8203;(boolean&nbsp;row,
 int&nbsp;num)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">This method does the draw from the market and decides if
 the controller will be waiting for white marble conversions or straight warehouse insert choices.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#nextTurn()">nextTurn</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">This method goes on with the turn, return the new state of the player and eventually notifying the end of match.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#payments(java.util.List,java.util.Map)">payments</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../model/essentials/PhysicalResource.html" title="class in it.polimi.ingsw.gameLogic.model.essentials">PhysicalResource</a>&gt;&nbsp;strongboxCosts,
 <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,&#8203;<a href="../model/essentials/PhysicalResource.html" title="class in it.polimi.ingsw.gameLogic.model.essentials">PhysicalResource</a>&gt;&nbsp;warehouseCosts)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">This method is used in production/devCard payments and
   clones the warehouse and strongbox states before payments and tries to pay everything.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#production(java.util.List,it.polimi.ingsw.gameLogic.model.essentials.Production)">production</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;cardIds,
 <a href="../model/essentials/Production.html" title="class in it.polimi.ingsw.gameLogic.model.essentials">Production</a>&nbsp;productionOfUnknown)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">This method, after having received a ProductionMessage, checks:
 - if the player has all the cards that he wants to produce;
 - checks if the number of unknown costs and earnings corresponds to the chosen cards unknown quantities;
 and aborts the operation in both cases, if something went wrong.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#setCurrentState(it.polimi.ingsw.gameLogic.controller.StateName)">setCurrentState</a></span>&#8203;(<a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a>&nbsp;currentState)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Setter for current player's state</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#setLastRound(boolean)">setLastRound</a></span>&#8203;(boolean&nbsp;lastRound)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Setter for last round's flag</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#setWhiteMarbleDrawn(int)">setWhiteMarbleDrawn</a></span>&#8203;(int&nbsp;whiteMarbleDrawn)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Setter for white marbles drawn</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#switchShelf(int,int)">switchShelf</a></span>&#8203;(int&nbsp;shelf1,
 int&nbsp;shelf2)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">This method does the switch between two shelves, if possible.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#warehouseInsertion(java.util.List)">warehouseInsertion</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../model/essentials/PhysicalResource.html" title="class in it.polimi.ingsw.gameLogic.model.essentials">PhysicalResource</a>&gt;&nbsp;resources)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">This method checks if the resources are insertable in the chosen shelves</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#whiteMarblesConversion(java.util.List)">whiteMarblesConversion</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../model/essentials/PhysicalResource.html" title="class in it.polimi.ingsw.gameLogic.model.essentials">PhysicalResource</a>&gt;&nbsp;resources)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">This method checks if the chosen conversions are made available by the player's actual active leaders list.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor.detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(it.polimi.ingsw.gameLogic.model.match.Match,java.util.Map)">
<h3>TurnController</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">TurnController</span>&#8203;<span class="parameters">(<a href="../model/match/Match.html" title="class in it.polimi.ingsw.gameLogic.model.match">Match</a>&nbsp;match,
 <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,&#8203;<a href="../model/essentials/Card.html" title="interface in it.polimi.ingsw.gameLogic.model.essentials">Card</a>&gt;&nbsp;cardMap)</span></div>
<div class="block">The constructor initializes every player in waiting for turn, except for the first.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>match</code> - the match</dd>
<dd><code>cardMap</code> - the cards map to save</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="nextTurn()">
<h3>nextTurn</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></span>&nbsp;<span class="element-name">nextTurn</span>()
                   throws <span class="exceptions"><a href="../exceptions/MatchEndedException.html" title="class in it.polimi.ingsw.gameLogic.exceptions">MatchEndedException</a></span></div>
<div class="block">This method goes on with the turn, return the new state of the player and eventually notifying the end of match.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the current State of the player, after the new turn rotation</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/MatchEndedException.html" title="class in it.polimi.ingsw.gameLogic.exceptions">MatchEndedException</a></code> - when the match is really finished (the last round has finished)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="switchShelf(int,int)">
<h3>switchShelf</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></span>&nbsp;<span class="element-name">switchShelf</span>&#8203;<span class="parameters">(int&nbsp;shelf1,
 int&nbsp;shelf2)</span>
                      throws <span class="exceptions"><a href="../exceptions/RetryException.html" title="class in it.polimi.ingsw.gameLogic.exceptions">RetryException</a></span></div>
<div class="block">This method does the switch between two shelves, if possible.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>shelf1</code> - the first shelf</dd>
<dd><code>shelf2</code> - the second shelf</dd>
<dt>Returns:</dt>
<dd>the new State of the controller and client</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/RetryException.html" title="class in it.polimi.ingsw.gameLogic.exceptions">RetryException</a></code> - when the parameters are wrong</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="leaderActivation(java.lang.String)">
<h3>leaderActivation</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></span>&nbsp;<span class="element-name">leaderActivation</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;leaderId)</span>
                           throws <span class="exceptions"><a href="../exceptions/RetryException.html" title="class in it.polimi.ingsw.gameLogic.exceptions">RetryException</a></span></div>
<div class="block">This method does the discard of the chosen leader.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>leaderId</code> - is the id of the leader card</dd>
<dt>Returns:</dt>
<dd>the new State of the controller and client</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/RetryException.html" title="class in it.polimi.ingsw.gameLogic.exceptions">RetryException</a></code> - when the activation is not possible</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="leaderDiscarding(java.lang.String)">
<h3>leaderDiscarding</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></span>&nbsp;<span class="element-name">leaderDiscarding</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;leaderId)</span>
                           throws <span class="exceptions"><a href="../exceptions/RetryException.html" title="class in it.polimi.ingsw.gameLogic.exceptions">RetryException</a></span></div>
<div class="block">This method does the activate of the chosen leader.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>leaderId</code> - is the id of the leader card</dd>
<dt>Returns:</dt>
<dd>the new State of the controller and client</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/RetryException.html" title="class in it.polimi.ingsw.gameLogic.exceptions">RetryException</a></code> - if the discard is not possible</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="marketDraw(boolean,int)">
<h3>marketDraw</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></span>&nbsp;<span class="element-name">marketDraw</span>&#8203;<span class="parameters">(boolean&nbsp;row,
 int&nbsp;num)</span>
                     throws <span class="exceptions"><a href="../exceptions/RetryException.html" title="class in it.polimi.ingsw.gameLogic.exceptions">RetryException</a></span></div>
<div class="block">This method does the draw from the market and decides if
 the controller will be waiting for white marble conversions or straight warehouse insert choices.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>row</code> - the choice between row and column</dd>
<dd><code>num</code> - the value of the choice</dd>
<dt>Returns:</dt>
<dd>the new State of the controller and client</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/RetryException.html" title="class in it.polimi.ingsw.gameLogic.exceptions">RetryException</a></code> - when the draw is not possible due to invalid parameters.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="whiteMarblesConversion(java.util.List)">
<h3>whiteMarblesConversion</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></span>&nbsp;<span class="element-name">whiteMarblesConversion</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../model/essentials/PhysicalResource.html" title="class in it.polimi.ingsw.gameLogic.model.essentials">PhysicalResource</a>&gt;&nbsp;resources)</span>
                                 throws <span class="exceptions"><a href="../exceptions/RetryException.html" title="class in it.polimi.ingsw.gameLogic.exceptions">RetryException</a></span></div>
<div class="block">This method checks if the chosen conversions are made available by the player's actual active leaders list.
 Then it inserts the resources in the buffer.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>resources</code> - the conversions</dd>
<dt>Returns:</dt>
<dd>the new State of the controller and client</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/RetryException.html" title="class in it.polimi.ingsw.gameLogic.exceptions">RetryException</a></code> - when the conversion is not acceptable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="warehouseInsertion(java.util.List)">
<h3>warehouseInsertion</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></span>&nbsp;<span class="element-name">warehouseInsertion</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../model/essentials/PhysicalResource.html" title="class in it.polimi.ingsw.gameLogic.model.essentials">PhysicalResource</a>&gt;&nbsp;resources)</span>
                             throws <span class="exceptions"><a href="../exceptions/RetryException.html" title="class in it.polimi.ingsw.gameLogic.exceptions">RetryException</a></span></div>
<div class="block">This method checks if the resources are insertable in the chosen shelves.
 - If something goes wrong, leaves the already inserted resources in the shelves and the controller expects a
   new Message with new shelf choices.
 - If it works well, it proceeds with trying to discard resources in the buffer, if it's still not possible
   the controller will expect shelf choices again.
 The process iterates until the buffer is discardable.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>resources</code> - the resources list, with quantity -> shelf.</dd>
<dt>Returns:</dt>
<dd>the new State of the controller and client</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/RetryException.html" title="class in it.polimi.ingsw.gameLogic.exceptions">RetryException</a></code> - when the insertion is not acceptable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="devCardDraw(int,int)">
<h3>devCardDraw</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></span>&nbsp;<span class="element-name">devCardDraw</span>&#8203;<span class="parameters">(int&nbsp;row,
 int&nbsp;column)</span>
                      throws <span class="exceptions"><a href="../exceptions/RetryException.html" title="class in it.polimi.ingsw.gameLogic.exceptions">RetryException</a></span></div>
<div class="block">This method, after having received a DevCardDrawMessage, checks first if the chosen card is placeable and buyable.
 Then, he takes the card and puts it in the TempDevCard slot (not paid yet).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>row</code> - the row</dd>
<dd><code>column</code> - the column</dd>
<dt>Returns:</dt>
<dd>the new State of the controller and client</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/RetryException.html" title="class in it.polimi.ingsw.gameLogic.exceptions">RetryException</a></code> - if the chosen draw is not possible</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="payments(java.util.List,java.util.Map)">
<h3>payments</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></span>&nbsp;<span class="element-name">payments</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../model/essentials/PhysicalResource.html" title="class in it.polimi.ingsw.gameLogic.model.essentials">PhysicalResource</a>&gt;&nbsp;strongboxCosts,
 <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,&#8203;<a href="../model/essentials/PhysicalResource.html" title="class in it.polimi.ingsw.gameLogic.model.essentials">PhysicalResource</a>&gt;&nbsp;warehouseCosts)</span>
                   throws <span class="exceptions"><a href="../exceptions/RetryException.html" title="class in it.polimi.ingsw.gameLogic.exceptions">RetryException</a></span></div>
<div class="block">This method is used in production/devCard payments and
   clones the warehouse and strongbox states before payments and tries to pay everything.
 If something goes wrong, it refreshes the old storage versions.
 Does an additional control for the production payment, summing the resources by type for a simple
   no-order "equals" operation with the TempProduction and then, eventually, produces it.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>strongboxCosts</code> - the list of resources for the Strongbox</dd>
<dd><code>warehouseCosts</code> - the map of resources to insert in the warehouse</dd>
<dt>Returns:</dt>
<dd>the new State of the controller and client</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/RetryException.html" title="class in it.polimi.ingsw.gameLogic.exceptions">RetryException</a></code> - when the payments are not valid</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="devCardPlacement(int)">
<h3>devCardPlacement</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></span>&nbsp;<span class="element-name">devCardPlacement</span>&#8203;<span class="parameters">(int&nbsp;column)</span>
                           throws <span class="exceptions"><a href="../exceptions/RetryException.html" title="class in it.polimi.ingsw.gameLogic.exceptions">RetryException</a></span></div>
<div class="block">This method, after having received a DevCardPlacementMessage, tries to insert the card in TempDevCard and
 updates sets the new state to END_TURN.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>column</code> - the chosen dev slot</dd>
<dt>Returns:</dt>
<dd>the new State of the controller and client</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/RetryException.html" title="class in it.polimi.ingsw.gameLogic.exceptions">RetryException</a></code> - if the operation is invalid, somehow.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="production(java.util.List,it.polimi.ingsw.gameLogic.model.essentials.Production)">
<h3>production</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></span>&nbsp;<span class="element-name">production</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;cardIds,
 <a href="../model/essentials/Production.html" title="class in it.polimi.ingsw.gameLogic.model.essentials">Production</a>&nbsp;productionOfUnknown)</span>
                     throws <span class="exceptions"><a href="../exceptions/RetryException.html" title="class in it.polimi.ingsw.gameLogic.exceptions">RetryException</a></span></div>
<div class="block">This method, after having received a ProductionMessage, checks:
 - if the player has all the cards that he wants to produce;
 - checks if the number of unknown costs and earnings corresponds to the chosen cards unknown quantities;
 and aborts the operation in both cases, if something went wrong.
 Then, this method correctly builds the temporary production and insert it into tempProduction (for next).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cardIds</code> - the list of the cards to produce</dd>
<dd><code>productionOfUnknown</code> - the summative production of all the unknowns</dd>
<dt>Returns:</dt>
<dd>the new State of the controller and client</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/RetryException.html" title="class in it.polimi.ingsw.gameLogic.exceptions">RetryException</a></code> - when the production is not acceptable and the reasons may be: not enough resources in the production,
                         unknowns do not correspond to the effective payments, ...</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addFaith()">
<h3>addFaith</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></span>&nbsp;<span class="element-name">addFaith</span>()</div>
<div class="block">Adds a faith point to the current player and in case sets the last round boolean and inform the other players.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the current state.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="changeState(it.polimi.ingsw.gameLogic.controller.StateName)">
<h3>changeState</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">changeState</span>&#8203;<span class="parameters">(<a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a>&nbsp;newState)</span></div>
<div class="block">This method changes the state of the current player to the passed one and calls an update.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>newState</code> - the new state</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentPlayer()">
<h3>getCurrentPlayer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../model/match/player/Player.html" title="class in it.polimi.ingsw.gameLogic.model.match.player">Player</a></span>&nbsp;<span class="element-name">getCurrentPlayer</span>()</div>
<div class="block">Getter for current player</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the current player</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentState()">
<h3>getCurrentState</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a></span>&nbsp;<span class="element-name">getCurrentState</span>()</div>
<div class="block">Getter for current player's state</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the current state</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setCurrentState(it.polimi.ingsw.gameLogic.controller.StateName)">
<h3>setCurrentState</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setCurrentState</span>&#8203;<span class="parameters">(<a href="StateName.html" title="enum class in it.polimi.ingsw.gameLogic.controller">StateName</a>&nbsp;currentState)</span></div>
<div class="block">Setter for current player's state</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>currentState</code> - the new state</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setWhiteMarbleDrawn(int)">
<h3>setWhiteMarbleDrawn</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setWhiteMarbleDrawn</span>&#8203;<span class="parameters">(int&nbsp;whiteMarbleDrawn)</span></div>
<div class="block">Setter for white marbles drawn</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>whiteMarbleDrawn</code> - the number of white marble drawn during the last market move</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setLastRound(boolean)">
<h3>setLastRound</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setLastRound</span>&#8203;<span class="parameters">(boolean&nbsp;lastRound)</span></div>
<div class="block">Setter for last round's flag</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>lastRound</code> - is true if it's the last round, false elsewhere</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
